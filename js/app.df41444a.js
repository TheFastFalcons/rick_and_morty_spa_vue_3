(function(){"use strict";var t={3409:function(t,r,a){a.d(r,{ql:function(){return R},A4:function(){return S}});var e=a(4870),n=a(9242),c=a(3396);const o={id:"app"};function s(t,r){const a=(0,c.up)("router-view");return(0,c.wg)(),(0,c.iD)("div",o,[(0,c.Wm)(a)])}var i=a(89);const l={},u=(0,i.Z)(l,[["render",s]]);var p=u,d=a(4161),h=a(1020),f=a(5417),m=a(2483),v=a(7139);const w={class:"main__page"},_=(0,c._)("h1",{class:"title"},"Characters",-1),g={class:"form"},y=(0,c._)("option",null,"All",-1),k=(0,c._)("option",null,"Alive",-1),b=(0,c._)("option",null,"Dead",-1),D=(0,c._)("option",null,"unknown",-1),O=[y,k,b,D],Z={class:"characters-container"},H=["src"];function z(t,r,a,e,o,s){const i=(0,c.up)("router-link");return(0,c.wg)(),(0,c.iD)("div",w,[_,(0,c._)("div",g,[(0,c.wy)((0,c._)("input",{class:"input","onUpdate:modelValue":r[0]||(r[0]=t=>e.search=t),placeholder:"Введите имя"},null,512),[[n.nr,e.search]]),(0,c.wy)((0,c._)("select",{class:"select","onUpdate:modelValue":r[1]||(r[1]=t=>e.status=t)},O,512),[[n.bM,e.status]]),(0,c._)("button",{class:"btn",onClick:r[2]||(r[2]=(...t)=>e.loadCharacters&&e.loadCharacters(...t))},"Поиск")]),(0,c._)("div",Z,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(e.characters,(t=>((0,c.wg)(),(0,c.iD)("div",{class:"character-card",key:t.id},[(0,c.Wm)(i,{to:"/character/"+t.id},{default:(0,c.w5)((()=>[(0,c._)("img",{class:"character-image",src:t.image},null,8,H),(0,c._)("p",null,"Name: "+(0,v.zw)(t.name),1),(0,c._)("p",null,(0,v.zw)(t.species),1)])),_:2},1032,["to"])])))),128))]),(0,c._)("button",{class:"btn btn_load",onClick:r[3]||(r[3]=(...t)=>e.loadMore&&e.loadMore(...t))},"Загрузить ещё")])}a(560);var C={setup(){const t=(0,e.iH)("All"),r=(0,e.iH)(""),a=(0,e.iH)([]),n=async()=>{try{a.value=await R(r.value,t.value)}catch(e){console.error(e)}},o=async()=>{try{const t=await S();t&&t.data.results&&t.data.results.forEach((t=>{a.value.find((r=>r.id===t.id))||a.value.push(t)}))}catch(t){console.error(t)}};return(0,c.bv)((()=>n())),{characters:a,status:t,search:r,loadCharacters:n,loadMore:o}}};const A=(0,i.Z)(C,[["render",z]]);var j=A;const x={key:0,class:"main__character"},M={class:"title"},W=["src"],$={class:"descr"},P={class:"descr"},q={class:"list"};function K(t,r,a,e,n,o){const s=(0,c.up)("router-link");return n.character.name?((0,c.wg)(),(0,c.iD)("div",x,[(0,c._)("h1",M,(0,v.zw)(n.character.name),1),(0,c._)("img",{src:n.character.image},null,8,W),(0,c._)("p",$,(0,v.zw)(n.character.species),1),(0,c._)("p",P,"Location: "+(0,v.zw)(n.character.location.name),1),(0,c._)("ul",q,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(n.character.episode.slice(0,5),(t=>((0,c.wg)(),(0,c.iD)("li",{class:"list__item",key:t},[(0,c.Wm)(s,{to:"/episode/"+t.split("/").pop()},{default:(0,c.w5)((()=>[(0,c.Uk)((0,v.zw)(t.split("episode/").pop()),1)])),_:2},1032,["to"])])))),128))])])):(0,c.kq)("",!0)}var U={data(){return{character:{}}},async created(){const t=this.$route.params.id;try{const r=await d.Z.get("https://rickandmortyapi.com/api/character/"+t);this.character=r.data}catch(r){console.error(r)}}};const Y=(0,i.Z)(U,[["render",K]]);var E=Y;const N={class:"main__episode"},T={class:"title"},V={class:"descr"},B=["src"];function F(t,r,a,e,n,o){const s=(0,c.up)("router-link");return(0,c.wg)(),(0,c.iD)("div",N,[(0,c._)("h1",T,(0,v.zw)(n.episode.name),1),(0,c._)("p",V,(0,v.zw)(n.episode.air_date),1),((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(n.episode.characters,(t=>((0,c.wg)(),(0,c.iD)("div",{key:t.split("/").pop()},[(0,c.Wm)(s,{to:"/character/"+t.split("/").pop()},{default:(0,c.w5)((()=>[n.characters[t]?((0,c.wg)(),(0,c.iD)("img",{key:0,src:n.characters[t].image},null,8,B)):(0,c.kq)("",!0)])),_:2},1032,["to"])])))),128))])}var L={data(){return{episode:{},characters:{}}},async mounted(){const t=this.$route.params.id;try{const r=await d.Z.get("https://rickandmortyapi.com/api/episode/"+t);this.episode=r.data;for(let t of this.episode.characters){const r=await d.Z.get(t);this.characters[t]=r.data}}catch(r){console.error(r)}}};const G=(0,i.Z)(L,[["render",F]]);var I=G;const J=(0,h.WB)();J.use(f.Z);(0,e.iH)([]),(0,e.iH)("All"),(0,e.iH)("");let Q=(0,e.iH)("https://rickandmortyapi.com/api/character");const R=async(t="",r="All")=>{const a=`https://rickandmortyapi.com/api/character/?name=${t}&status=${"All"!==r?r:""}`;try{const t=await d.Z.get(a);return Q.value=t.data.info.next,t.data.results}catch(e){console.error(e)}},S=()=>{if(Q.value)return d.Z.get(Q.value);console.log("No more characters to load")},X=(0,n.ri)(p),tt=(0,m.p7)({history:(0,m.PO)(),routes:[{path:"/",component:j},{path:"/character/:id",component:E},{path:"/episode/:id",component:I}]});X.use(tt),X.config.globalProperties.$http=d.Z,X.use(J),X.mount("#app")}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var c=r[e]={exports:{}};return t[e].call(c.exports,c,c.exports,a),c.exports}a.m=t,function(){var t=[];a.O=function(r,e,n,c){if(!e){var o=1/0;for(u=0;u<t.length;u++){e=t[u][0],n=t[u][1],c=t[u][2];for(var s=!0,i=0;i<e.length;i++)(!1&c||o>=c)&&Object.keys(a.O).every((function(t){return a.O[t](e[i])}))?e.splice(i--,1):(s=!1,c<o&&(o=c));if(s){t.splice(u--,1);var l=n();void 0!==l&&(r=l)}}return r}c=c||0;for(var u=t.length;u>0&&t[u-1][2]>c;u--)t[u]=t[u-1];t[u]=[e,n,c]}}(),function(){a.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(r,{a:r}),r}}(),function(){a.d=function(t,r){for(var e in r)a.o(r,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}}(),function(){var t={143:0};a.O.j=function(r){return 0===t[r]};var r=function(r,e){var n,c,o=e[0],s=e[1],i=e[2],l=0;if(o.some((function(r){return 0!==t[r]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(i)var u=i(a)}for(r&&r(e);l<o.length;l++)c=o[l],a.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return a.O(u)},e=self["webpackChunkmy_spa_rick"]=self["webpackChunkmy_spa_rick"]||[];e.forEach(r.bind(null,0)),e.push=r.bind(null,e.push.bind(e))}();var e=a.O(void 0,[998],(function(){return a(3409)}));e=a.O(e)})();
//# sourceMappingURL=app.df41444a.js.map